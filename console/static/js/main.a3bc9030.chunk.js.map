{"version":3,"sources":["config.js","config.dev.js","assets/svg/loading-indicator.svg","components/LoadingIndicator/LoadingIndicator.tsx","components/LoadingIndicator/index.tsx","pages/Loading/Loading.tsx","pages/Loading/index.tsx","enhancers/withAuth.tsx","pages/Dashboard/index.tsx","pages/Dashboard/Dashboard.tsx","App.tsx","index.tsx"],"names":["module","exports","appDirectory","baseAPIUrl","clientId","redirectUri","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","fill","_ref","svgRef","title","props","width","height","viewBox","ref","ForwardRef","forwardRef","LoadingIndicator","styled","LoadingIndicatorAsset","LoadingContainer","div","Loading","prodConfig","sessionStorage","setItem","getItem","Math","random","substring","client","Client","baseUrl","scopes","state","verifier","Dashboard","BaseComponent","isAuthenticated","Boolean","auth","token","params","URL","document","location","href","searchParams","get","getAuthUri","url","window","fetchToken","setState","Component","withAuth","history","createBrowserHistory","App","path","exact","component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a3bc9030.chunk.js","sourcesContent":["module.exports = {\n  appDirectory: \"console\",\n  baseAPIUrl: \"https://api.kontist.com\",\n  clientId: \"TBD\",\n  redirectUri: \"https://kontist.dev/console\"\n};\n","module.exports = {\n  appDirectory: \"console\",\n  baseAPIUrl: \"http://localhost:3000\",\n  clientId: \"fe8055d9-f496-49e9-9551-5b416139630e\",\n  redirectUri: \"http://localhost:3001\"\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M48 24H42.4615C42.4615 34.196 34.196 42.4615 24 42.4615C13.804 42.4615 5.53846 34.196 5.53846 24C5.53846 13.804 13.804 5.53846 24 5.53846V0C10.7452 0 0 10.7452 0 24C0 37.2548 10.7452 48 24 48C37.2548 48 48 37.2548 48 24Z\",\n  fill: \"#5A2FB1\"\n});\n\nvar SvgLoadingIndicator = function SvgLoadingIndicator(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 48,\n    height: 48,\n    viewBox: \"0 0 48 48\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgLoadingIndicator, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/loading-indicator.66f366ac.svg\";\nexport { ForwardRef as ReactComponent };","import styled from \"styled-components\";\n\nimport { ReactComponent as LoadingIndicatorAsset } from \"../../assets/svg/loading-indicator.svg\";\n\nconst LoadingIndicator = styled(LoadingIndicatorAsset)`\n  animation: spin 2s linear infinite;\n\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n`;\n\nexport default LoadingIndicator;\n","import LoadingIndicator from \"./LoadingIndicator\";\n\nexport default LoadingIndicator;\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nimport LoadingIndicator from \"../../components/LoadingIndicator\";\n\nconst LoadingContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n`;\n\nconst Loading = () => {\n  return (\n    <LoadingContainer>\n      <LoadingIndicator />\n    </LoadingContainer>\n  );\n};\n\nexport default Loading;\n","import Loading from \"./Loading\";\n\nexport default Loading;\n","import React, { Component } from \"react\";\nimport { Client } from \"@kontist/client\";\n\nimport prodConfig from \"../config\";\nimport devConfig from \"../config.dev\";\n\nimport Loading from \"../pages/Loading\";\n\nconst { baseAPIUrl, clientId, redirectUri } =\n  process.env.NODE_ENV === \"production\" ? prodConfig : devConfig;\n\nconst STATE_KEY = \"state\";\nconst VERIFIER_KEY = \"verifier\";\nconst CLIENT_SCOPE = \"clients\";\nconst CODE_QUERY_PARAM = \"code\";\n\nsessionStorage.setItem(\n  STATE_KEY,\n  sessionStorage.getItem(STATE_KEY) || (Math.random() + \"\").substring(2)\n);\nsessionStorage.setItem(\n  VERIFIER_KEY,\n  sessionStorage.getItem(VERIFIER_KEY) || (Math.random() + \"\").substring(2)\n);\n\nconst client = new Client({\n  baseUrl: baseAPIUrl,\n  clientId,\n  redirectUri,\n  scopes: [CLIENT_SCOPE],\n  state: sessionStorage.getItem(STATE_KEY) || \"\",\n  verifier: sessionStorage.getItem(VERIFIER_KEY) || \"\"\n});\n\ninterface State {\n  isAuthenticated: boolean;\n}\n\nconst withAuth = (BaseComponent: React.ComponentType) => {\n  return class extends Component<{}, State> {\n    constructor(props: {}) {\n      super(props);\n\n      this.state = {\n        isAuthenticated: Boolean(client.auth.token)\n      };\n    }\n\n    async componentDidMount() {\n      if (client.auth.token) {\n        return;\n      }\n\n      const params = new URL(document.location.href).searchParams;\n      const code = params.get(CODE_QUERY_PARAM);\n\n      if (!code) {\n        const url = await client.auth.getAuthUri();\n        window.location.href = url;\n      } else {\n        await client.auth.fetchToken(document.location.href);\n        this.setState({\n          isAuthenticated: true\n        });\n      }\n    }\n\n    render() {\n      const { isAuthenticated } = this.state;\n\n      return isAuthenticated ? <BaseComponent {...this.props} /> : <Loading />;\n    }\n  };\n};\n\nexport default withAuth;\n","import Dashboard from \"./Dashboard\";\n\nexport default Dashboard;\n","import React from \"react\";\n\nimport withAuth from \"../../enhancers/withAuth\";\n\nconst Dashboard = () => {\n  return <div>Dashboard</div>;\n};\n\nexport default withAuth(Dashboard);\n","import React from \"react\";\nimport { Router, Route, Switch } from \"react-router-dom\";\nimport { createBrowserHistory } from \"history\";\n\nimport Dashboard from \"./pages/Dashboard\";\n\nconst history = createBrowserHistory();\n\nconst App = () => (\n  <Router history={history}>\n    <Switch>\n      <Route path=\"/\" exact component={Dashboard} />\n      <Route path=\"/dashboard\" exact component={Dashboard} />\n    </Switch>\n  </Router>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}